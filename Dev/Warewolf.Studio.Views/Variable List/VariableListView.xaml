<UserControl x:Class="Warewolf.Studio.Views.Variable_List.VariableListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ig="http://schemas.infragistics.com/xaml"
             xmlns:datalistView="clr-namespace:Dev2.Common.Interfaces.DataList.DatalistView;assembly=Dev2.Common.Interfaces"
             xmlns:variableList="clr-namespace:Warewolf.Studio.ViewModels.VariableList;assembly=Warewolf.Studio.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300" >
    <UserControl.Resources>
        <ControlTemplate TargetType="TextBox" x:Key="VariableItemTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition Width="25"></ColumnDefinition>
                    <ColumnDefinition Width="25"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0" Text="{Binding (datalistView:IVariableListViewItem.Name)}"></TextBox>
                <Button Grid.Column="1" Command="{Binding Delete}"></Button>
                <Button Grid.Column="2" Command="{Binding AddNotes}"></Button>
            </Grid>
        </ControlTemplate>
    </UserControl.Resources>
    <Grid>
        
        <Grid.RowDefinitions>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>
         </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="8*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" Grid.Row="0" x:Name="FilterTextBox" Text="{Binding FilterExpression}"></TextBox>
            <Button Grid.Column="1" Grid.Row="0"  Command="{Binding FilterCommand}"></Button>
            <Button Grid.Column="2" Grid.Row="0" Command="{Binding DeleteUnusedCommand}"></Button>
            <Button Grid.Column="3" Grid.Row="0" Command="{Binding SortCommand}"></Button>
        </Grid>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
             </Grid.ColumnDefinitions>
            <Label Grid.Column="0"> Variable Name</Label>
            <Label Grid.Column="1">Input</Label>
            <Label Grid.Column="2">Output</Label>
        </Grid>

        <Grid Grid.Row="2">
            <ig:XamDataTree
             ItemsSource="{Binding (datalistView:IVariableListViewModel.Scalars)}">
                    <ig:XamDataTree.GlobalNodeLayouts>
                        <ig:NodeLayout Key="Scalars" DisplayMemberPath="Name">
                            <ig:NodeLayout.ItemTemplate>
                            <DataTemplate DataType="datalistView:IVariableListViewScalar">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition></ColumnDefinition>
                                            <ColumnDefinition></ColumnDefinition>
                                            <ColumnDefinition></ColumnDefinition>
                                        </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Template="{StaticResource VariableItemTemplate}" Text="{Binding Name}"></TextBox>
                                    <CheckBox Grid.Column="1" Checked="{Binding Input}"></CheckBox>
                                    <CheckBox Grid.Column="2" Checked="{Binding Output}"></CheckBox>
                                    </Grid>
                                </DataTemplate>
                            </ig:NodeLayout.ItemTemplate>
                        </ig:NodeLayout>
                    </ig:XamDataTree.GlobalNodeLayouts>
            </ig:XamDataTree>
        </Grid>

        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Label Grid.Column="0">RecordSet Name</Label>
            <Label Grid.Column="1">Input</Label>
            <Label Grid.Column="2">Output</Label>
        </Grid>
        <Grid Grid.Row="4">
            <ig:XamDataTree
             ItemsSource="{Binding (datalistView:IVariableListViewModel.RecordSets)}">
                <ig:XamDataTree.GlobalNodeLayouts>
                    <ig:NodeLayout Key="DataSets" DisplayMemberPath="Name">
                        <ig:NodeLayout.ItemTemplate>
                            <DataTemplate DataType="datalistView:IVariablelistViewRecordSet">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Template="{StaticResource VariableItemTemplate}" Grid.Column="0" Text="{Binding Name}"></TextBox>
                                    <CheckBox Grid.Column="1" Checked="{Binding Input}"></CheckBox>
                                    <CheckBox Grid.Column="2" Checked="{Binding Output}"></CheckBox>
                                </Grid>
                            </DataTemplate>
                        </ig:NodeLayout.ItemTemplate>
                       
                    </ig:NodeLayout>
                    <ig:NodeLayout Key="Columns">
                        <ig:NodeLayout.ItemTemplate>
                            <DataTemplate DataType="datalistView:IVariableListViewColumn">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Image Grid.Column="0"/>
                                    <TextBox Template="{StaticResource VariableItemTemplate}" Grid.Column="1" Text="{Binding Name}"></TextBox>
                                    <CheckBox Grid.Column="2" Checked="{Binding Input}"></CheckBox>
                                    <CheckBox Grid.Column="3" Checked="{Binding Output}"></CheckBox>
                                </Grid>
                            </DataTemplate>
                        </ig:NodeLayout.ItemTemplate>
                    </ig:NodeLayout>
                </ig:XamDataTree.GlobalNodeLayouts>
            </ig:XamDataTree>
        </Grid>
    </Grid>
</UserControl>
